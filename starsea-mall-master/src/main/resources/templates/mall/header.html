<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:fragment="head-fragment(title,path)">
    <meta charset="UTF-8">
    <title>乐淘乐器商城</title>
    <link rel="stylesheet" href="/mall/styles/footer.css">
    <link rel="stylesheet" th:href="@{/mall/css/swiper.min.css}">
    <link rel="stylesheet" th:href="@{/mall/css/iconfont.css}">
    <link rel="stylesheet" th:href="@{/mall/css/common.css}">
    <link rel="stylesheet" th:href="@{/mall/styles/header.css}">
    <link rel="stylesheet" th:href="@{'/mall/styles/'+${path}+'.css'}">
    <link rel="stylesheet" th:href="@{/admin/plugins/sweetalert/sweetalert.css}"/>
    <meta name="keywords" content="" />
    <meta name="description" content=""/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="/mall/styles/all.min.css">
    <link rel="stylesheet" href="/mall/styles/all.min2.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
          integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
          crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="/mall/styles/my-orders.css">
    <link rel="stylesheet" href="/mall/styles/order-detail.css">
    <link rel="icon" href="/goods-img/lqlogo.png" type="image/png">
    <style>
    </style>
</head>
<header id="header" th:fragment="header-fragment">
<nav id="nav" th:fragment="nav-fragment">
    <!-- 品牌名称 -->
    <a th:href="@{/index}" class="navbar-brand">
        <img class="logo" src="/goods-img/lqlogo.png" /> 乐淘乐器商城
    </a>

    <!-- 搜索框 -->
    <div class="search-box">
        <input type="text" placeholder="搜索乐器..." id="keyword" autocomplete="off">
        <button onclick="search()"><i class="fas fa-search" style="font-size: 24px;"></i></button>
    </div>

    <!-- 右侧菜单 -->
    <ul class="navbar-menu">
        <th:block th:unless="${session.newBeeMallUser==null}">
            <li>
                <a th:href="@{/personal}">
                    <i class="fas fa-user icon"></i> 个人中心
                </a>
            </li>
            <li>
                <a th:href="@{/orders}">
                    <i class="fas fa-list-alt icon"></i> 我的订单
                </a>
            </li>
            <li>
                <a th:href="@{/shop-cart}">
                    <i class="fas fa-shopping-cart icon"></i> 购物车
                    <span class="cart-count" th:text="${session.newBeeMallUser.shopCartItemCount}"></span>
                </a>
            </li>
            <li>
                <a th:href="@{/logout}">
                    <i class="fas fa-sign-out-alt icon"></i> 退出登录
                </a>
            </li>
        </th:block>
        <th:block th:if="${session.newBeeMallUser==null}">
            <li>
                <a th:href="@{/login}">
                    <i class="fas fa-sign-in-alt icon"></i> 登录
                </a>
            </li>
            <li>
                <a th:href="@{/register}">
                    <i class="fas fa-user-plus icon"></i> 注册
                </a>
            </li>
            <li>
                <a href="#">
                    <i class="fas fa-shopping-cart icon"></i> 购物车
                    <span class="cart-count">0</span>
                </a>
            </li>
        </th:block>
    </ul>
</nav>
</header>

<script>
    function search() {
        const keyword = document.getElementById('keyword').value;
        if (keyword.trim()!='') {
            window.location.href = '/search?keyword=' + encodeURIComponent(keyword);
            keyword.value = '';
        } else if(keyword=='') {
            alert('请输入搜索内容！');
        }
    }
</script>
</html>
